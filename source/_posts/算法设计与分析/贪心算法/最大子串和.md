---
title: 最大子串和
cover: false
categories:
  - 算法设计与分析
  - 贪心算法
tags:
  - 最大子串和
abbrlink: f0b0402e
date: 2020-10-03 20:06:07
updated:
---
## 题目
给定一个整数数组 nums ，找到一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。

## 示例
    输入: [-2,1,-3,4,-1,2,1,-5,4]
    输出: 6
    解释: 连续子数组 [4,-1,2,1] 的和最大，为6。

## 代码
时间复杂度`O(n)`，解决本题最简单的算法。
```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var maxSubArray = function(nums) {
    let ret = nums[0],sum = 0;
    for(let i=0;i<nums.length;i++){
        sum+=nums[i];
        ret = ret > sum ? ret : sum;
        console.log(i,ret,sum)
        if(sum < 0) sum =0;
    }
    return ret;
};
```
本算法难理解之处在于`if(sum < 0) sum =0;`，当小于0时，重置为0时，意味着贡献于sum值的**前一位数组元素**，被排除到目标子串之外，sum值重新从下一位开始累加。

这时候的结果和，要么从下一位开始的后面子串和，或者是不包括前一位的前面某子串和。

为什么？道理很简单，因为**任何一个最大子串和，它的第一位或者前几位和，都不会是负数。**

举两个例子，比如：
- `[-1,2,1]`，最大子串和对应的数组为`[2,1]`，`[-1]`显然不能要
- `[3,1,-5,2,3]`，最大子串和对应的数组为`[2,3]`，`[3,1,-5]`不能要，因为`3+1+(-5)=(-1)`
